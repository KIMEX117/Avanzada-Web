<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACTIVIDAD 15</title>
</head>

<body>
    <canvas id="mycanvas" width="500" height="500" style="border: 1px solid black;">
        Hola tu navegador no funciona
    </canvas>
    
    <script>
        var cv = document.getElementById('mycanvas');
        var ctx = cv.getContext('2d');

        var color = "red";
        var fig = 'arc';

        ctx.fillStyle = "rgb(0, 0, 200, 0.7)";
        cv.addEventListener('click', function(e){
            var x = e.offsetX;
            var y = e.offsetY;

            ctx.fillStyle = generateRandomColor();
            if(fig=='arc'){
                ctx.beginPath();
                ctx.arc(x, y, 40, 0, 2 * Math.PI);
                ctx.fill();
                ctx.stroke();
            }else{
                ctx.fillRect(x-20,y-20,40,40);
                ctx.strokeRect(x-20,y-20,40,40);
            }
        });

        //Evento: mouseover
        cv.addEventListener('mouseover', function(e){
            ctx.fillStyle = generateRandomColor();
        });

        //Evento: mouseout
        cv.addEventListener('mouseout', function(e){
            fig = (fig == 'arc')?'rec':'arc';
        })

        //Evento: mousemove
        cv.addEventListener('mousemove', function(e){
            ctx.fillStyle = "black";
            ctx.fillRect(e.offsetX,e.offsetY,5,5);
        })

        //GENERAR COLOR RANDOM
        function generateRandomColor() {
            var trans = '0.5';
            var color = 'rgba(';
            for (var i = 0; i < 3; i++) {
                color += Math.floor(Math.random() * 255) + ',';
            }
            color += trans + ')';
            return color;
        }
        
    </script>
</body>
</html>